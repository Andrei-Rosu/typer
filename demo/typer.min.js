function typer(e,n){function t(){m.dataNum=Math.floor(999999999*Math.random()+1),e.dataset.typer=m.dataNum}function r(){var e=document.createElement("style");e.appendChild(document.createTextNode("")),document.head.appendChild(e)}function i(e,n,t,r){function i(e){for(var n in e)a[n]=e[n]}var a={};return a.html=!0,"string"==typeof n||"Array"===n.constructor.name?a[e]=n:(n.length&&(n=n[0]),a[e]=n.innerHTML),t&&"number"==typeof t?(a.speed=t,r&&i(r)):t&&(i(t),r&&(a.speed=r)),a}function a(){if(m.item>=0||(m.item=0),!m.cursor){m.cursor="cursor-soft";var n='[data-typer="'+m.dataNum+'"]',t=window.getComputedStyle(e).color;document.styleSheets[0].addRule(n+" .typer:after","background-color:"+t+";")}m.type=setInterval(function(){var e=m[m.item];return m.item===m.length?clearInterval(m.type):(e.line&&c(e),e["continue"]&&l(e),e.pause&&u(e),e.emit&&s(e),e.listen&&d(e),e.back&&v(e),e.empty&&f(),e.run&&p(e),void(e.end&&h(e)))},0)}function o(e){var t;t=e.line?e.line:e["continue"];var r=[m.newDiv],i=0;m.iterator=setInterval(function(){if(i===t.length)return clearInterval(m.iterator),m.item++,a();var n=t[i];if(e.html){if("<"===n&&"/"!==t[i+1]){for(var o="",c="",l=i;l<t.length&&(o+=t[l],">"!==t[l]&&"<"!==t[l]&&(c+=t[l]),">"!==t[l]);l++);var u=m.voids.some(function(e){return e===c});if(u)r[0].innerHTML+=o;else{var s=document.createElement("div");s.innerHTML=o;var d=(o.length,r[0]);r.unshift(s.firstChild),d.appendChild(s.firstChild)}return i+=o.length}if("<"===n&&"/"===t[i+1])return r.shift(),i=t.indexOf(">",i)+1;if("&"===n){for(var v="",l=i;l<t.length&&(v+=t[l],";"!==t[l]);l++);var s=document.createElement("div");s.innerHTML=v,1===s.textContent.length?(r[0].innerHTML+=v,i=l):r[0].innerHTML+=n}else r[0].innerHTML+=n}else{if("string"!=typeof t){var s=document.createElement("div");s.textContent=n,n=s.innerHTML}m.newDiv.innerHTML+=n}i++},e.speed||n)}function c(n){if(clearInterval(m.type),m.newDiv){m.newDiv.className="";var t=m.newDiv.dataset["class"];t&&(m.newDiv.className=t),m.newDiv.classList.add("white-space"),""===m.newDiv.innerHTML&&(m.newDiv.innerHTML=" ")}var r=document.createElement("div");return r.dataset.typerChild=m.dataNum,r.className=m.cursor,r.classList.add("typer","white-space"),n["class"]&&(r.className+=" "+n["class"],r.dataset["class"]=n["class"]),e.appendChild(r),m.newDiv=r,1===n.line?(m.item++,a()):void o(n)}function l(e){clearInterval(m.type),o(e)}function u(e){clearInterval(m.type),setTimeout(function(){m.item++,a()},e.pause)}function s(e){clearInterval(m.type);var n=new Event(e.emit);e.el.dispatchEvent(n),m.item++,a()}function d(e){clearInterval(m.type),e.el.addEventListener(e.listen,function n(t){e.el.removeEventListener(t.type,n),m.killed||(m.item++,a())})}function v(e){function t(e){var n=[].slice.call(e.children);n.map(function(n,r){n.innerHTML.length?n.children.length&&(t(n),this[r].innerHTML.length||(this[r].remove(),o=e.innerHTML.split(""),c=o.length-1)):(n.remove(),e===m.newDiv&&(o=e.innerHTML.split(""),c=o.length-1))},n)}if(clearInterval(m.type),!m.newDiv.textContent)return m.item++,a();if(0===e.speed&&(e.speed=1),"empty"===e.back)return m.newDiv.innerHTML="",m.item++,a();if(e.back>m.newDiv.innerHTML.length&&(e.back="all"),"all"===e.back&&(e.back=m.newDiv.textContent.length),e.back<0){var r=m.newDiv.textContent;e.back=r.substring(-1*e.back,r.length).length}var i=0,o=m.newDiv.innerHTML.split(""),c=o.length-1;m.goBack=setInterval(function(){if(i++,">"===o[c])for(var n=[],r=c;r>=0;r--){if(n.unshift(o[r]),"<"===o[r]&&"/"===o[r+1]){if(n.length=0,">"===o[r-1])continue;c=r-1;break}if("<"===o[r]){var l=n.slice(1,n.length-1).join(""),u=m.voids.some(function(e){return e===l});if(c=r-1,u&&o.splice(r,n.length),n.length=0,">"===o[r-1])continue;break}}if(";"===o[c]){for(var s=[],d=c;d>=0&&(s.unshift(o[d]),"&"!==o[d]);d--);var v=document.createElement("div");v.innerHTML=s.join(""),1===v.textContent.length?(c=d-1,o.splice(d,s.length)):(o.splice(c,1),c--),m.newDiv.innerHTML=o.join("")}else o.splice(c,1),m.newDiv.innerHTML=o.join(""),c--;i===e.back&&(clearInterval(m.goBack),t(m.newDiv),m.item++,a())},e.speed||n)}function f(){m.newDiv="",e.innerHTML="",c({line:1})}function p(n){clearInterval(m.type),n.run(e),m.item++,a()}function h(){clearInterval(m.type),m.cb()}var m=[];t(),m.voids=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];var y=y||function(){};e.length&&(e=e[0]),n||(n=70),document.styleSheets.length||r();var g={cursor:function(n){if(void 0===n&&(n=!0),m.cursorRan)return console.log("You can only call .cursor once."),this;if(m.cursorRan=!0,n===!1)return m.cursor="no-cursor",this;var t=[],r='[data-typer="'+m.dataNum+'"]';if(n.color)document.styleSheets[0].addRule(r+" .typer:after","background-color:"+n.color+";");else{var i=window.getComputedStyle(e).color;document.styleSheets[0].addRule(r+" .typer:after","background-color:"+i+";")}return"hard"===n.blink?t.push("cursor-hard"):t.push("cursor-soft"),n.block===!0&&t.push("cursor-block"),m.cursor=t.join(" "),this},line:function(e,n,t){return e?m.push(i("line",e,n,t)):m.push({line:1}),m.typing||(m.typing=!0,a()),this},"continue":function(e,n,t){return e?(m.push(i("continue",e,n,t)),this):this},pause:function(e){return void 0===e&&(e=500),m.push({pause:e}),this},emit:function(e,n){if(n||(n=document.body),n instanceof y&&(n=n[0]),!n.nodeType||1!==n.nodeType)throw".emit() error: invalid element provided.";return m.push({emit:e,el:n}),this},listen:function(e,n){if(n||(n=document.body),n instanceof y&&(n=n[0]),!n.nodeType||1!==n.nodeType)throw".listen() error: invalid element provided.";return m.push({listen:e,el:n}),this},back:function(e,n){return m.push({back:e,speed:n}),this},empty:function(){return m.push({empty:!0}),this},run:function(e){return m.push({run:e}),this},end:function(n,t){function r(){return console.log('WARNING: you tried to call a method after ".end" has already been called.'),i}m.push({end:!0}),m.cb=function(){m.newDiv.className="white-space";var r=m.newDiv.dataset["class"];if(r&&(m.newDiv.className+=" "+r),m.newDiv="",n&&"function"==typeof n&&n(e),n&&"boolean"==typeof n||t){"function"==typeof t&&t(e);var i=new Event("typerFinished");document.body.dispatchEvent(i)}};var i={cursor:function(){return r()},line:function(){return r()},"continue":function(){return r()},pause:function(){return r()},emit:function(){return r()},listen:function(){return r()},back:function(){return r()},empty:function(){return r()},run:function(){return r()},end:function(){return r()}};return i}};return+function(){document.body.addEventListener("killTyper",function e(n){document.body.removeEventListener(n.type,e),clearInterval(m.iterator),clearInterval(m.goBack);var t=m[m.item];if(m.killed=!0,t.name){var r=new Event(t.name);t.el.dispatchEvent(r)}console.log("Typer killed!")})}(),g}