function typer(e,n){function t(){h.dataNum=Math.floor(999999999*Math.random()+1),e.dataset.typer=h.dataNum}function r(e,n,t,r){function o(e){for(i in e)a[i]=e[i]}var a={};return a.html=!0,"string"==typeof n||"Array"===n.constructor.name?a[e]=n:a[e]=n.innerHTML,t&&"number"==typeof t?(a.speed=t,r&&o(r)):t&&(o(t),r&&"number"==typeof r&&(a.speed=r)),a}function o(){if(h.item>=0||(h.item=0),!h.cursor){h.cursor="cursor-soft";var n='[data-typer="'+h.dataNum+'"]',t=window.getComputedStyle(e).color;document.styleSheets[0].addRule(n+" .typer:after","background-color:"+t+";")}h.type=setInterval(function(){var e=h[h.item];return h.item===h.length?clearInterval(h.type):(e.line&&u(e),e["continue"]&&c(e),e.pause&&s(e),e.emit&&l(e),e.listen&&f(e),e.back&&d(e),e.empty&&p(),e.run&&v(e),void(e.end&&m(e)))},0)}function a(e){var t;t=e.line?e.line:e["continue"];var r=[h.newDiv],i=0,a=setInterval(function(){if(i===t.length)return clearInterval(a),h.item++,o();var n=t[i];if(e.html){if("<"===n&&"/"!==t[i+1]){for(var u="",c="",s=i;s<t.length&&(u+=t[s],">"!==t[s]&&"<"!==t[s]&&(c+=t[s]),">"!==t[s]);s++);var l=function(){for(s in h.voids)if(h.voids[s]===c)return!0;return!1}();if(l)r[0].innerHTML+=u;else{var f=document.createElement("div");f.innerHTML=u;var d=(u.length,r[0]);r.unshift(f.firstChild),d.appendChild(f.firstChild)}return i+=u.length}if("<"===n&&"/"===t[i+1])return r.shift(),i=t.indexOf(">",i)+1;if("&"===n){for(var p="",s=i;i+7>s&&(p+=t[s],";"!==t[s]);s++);var f=document.createElement("div");f.innerHTML=p,1===f.innerText.length?(r[0].innerHTML+=p,i=s):r[0].innerHTML+=n}else r[0].innerHTML+=n}else h.newDiv.innerHTML+=n;i++},e.speed||n)}function u(n){if(clearInterval(h.type),h.newDiv){h.newDiv.className="";var t=h.newDiv.dataset["class"];t&&(h.newDiv.className=t),h.newDiv.classList.add("white-space"),""===h.newDiv.innerHTML&&(h.newDiv.innerHTML=" ")}return h.newDiv=document.createElement("div"),h.newDiv.dataset.typerChild=h.dataNum,h.newDiv.className=h.cursor,h.newDiv.classList.add("typer","white-space"),n["class"]&&(h.newDiv.className+=" "+n["class"],h.newDiv.dataset["class"]=n["class"]),e.appendChild(h.newDiv),1===n.line?(h.item++,o()):void a(n)}function c(e){clearInterval(h.type),a(e)}function s(e){clearInterval(h.type),setTimeout(function(){h.item++,o()},e.pause)}function l(e){if(clearInterval(h.type),e.el.nodeType&&1===e.el.nodeType){var n=new Event(e.emit);e.el.dispatchEvent(n)}else console.log("You need to provide a valid element. Skipping emitter.");h.item++,o()}function f(e){function n(t){e.el.removeEventListener(t.type,n),h.item++,o()}clearInterval(h.type),e.el.addEventListener(e.listen,n)}function d(e){if(clearInterval(h.type),!h.newDiv.innerText)return h.item++,o();"all"===e.back&&(e.back=h.newDiv.innerText.length);var t=0,r=h.newDiv.innerHTML.split(""),i=r.length-1,a=setInterval(function(){if(t++,">"===r[i])for(var n=[],u=i;u>=0;u--)if(n.unshift(r[u]),"<"===r[u]){n.shift(),n.pop(),n=n.join("");for(j in h.voids)h.voids[j]===n&&r.splice(i,n.length+2);if(i=u-1,">"!==r[u-1])break;u--}t<=e.back?(r.splice(i,1),h.newDiv.innerHTML=r.join(""),i--):(clearInterval(a),h.item++,o())},e.speed||n)}function p(){h.newDiv="",e.innerHTML="",u({line:1})}function v(e){clearInterval(h.type),e.run(),h.item++,o()}function m(){clearInterval(h.type),h.cb()}n||(n=70);var h=[];t(),h.voids=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];var y={cursor:function(n){if(void 0===n&&(n=!0),h.cursorRan)return console.log("You can only call .cursor once."),this;if(h.cursorRan=!0,n===!1)return h.cursor="no-cursor",this;var t=[],r='[data-typer="'+h.dataNum+'"]';if(n.color)document.styleSheets[0].addRule(r+" .typer:after","background-color:"+n.color+";");else{var i=window.getComputedStyle(e).color;document.styleSheets[0].addRule(r+" .typer:after","background-color:"+i+";")}return"hard"===n.blink?t.push("cursor-hard"):t.push("cursor-soft"),n.block===!0&&t.push("cursor-block"),h.cursor=t.join(" "),this},line:function(e,n,t){return e?h.push(r("line",e,n,t)):h.push({line:1}),h.typing||(h.typing=!0,o()),this},"continue":function(e,n,t){return e?(h.push(r("continue",e,n,t)),this):this},pause:function(e){return void 0===e&&(e=500),h.push({pause:e}),this},emit:function(e,n){return"string"==typeof e?h.push({emit:e,el:document.body}):h.push({emit:n,el:e}),this},listen:function(e,n){return"string"==typeof e?h.push({listen:e,el:document.body}):h.push({listen:n,el:e}),this},back:function(e,n){return h.push({back:e,speed:n}),this},empty:function(){return h.push({empty:!0}),this},run:function(e){return h.push({run:e}),this},end:function(e,n){function t(){return console.log('WARNING: you tried to call a method after ".end" has already been called.'),r}h.push({end:!0}),h.cb=function(){h.newDiv.className="white-space";var t=h.newDiv.dataset["class"];if(t&&(h.newDiv.className=t),h.newDiv="","function"==typeof e&&e(),"boolean"==typeof e&&e||n){"function"==typeof n&&n();var r=new Event("typerFinished");document.body.dispatchEvent(r)}};var r={cursor:function(){return t()},line:function(){return t()},"continue":function(){return t()},pause:function(){return t()},emit:function(){return t()},listen:function(){return t()},back:function(){return t()},empty:function(){return t()},run:function(){return t()},end:function(){return t()}};return r}};return y}