"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function typer(e,t){function n(e){var t={}.toString.call(e);return t.split(" ")[1].slice(0,-1)}function r(){b.dataNum=Math.floor(999999999*Math.random()+1),e.setAttribute("data-typer",b.dataNum)}function o(){var e=document.createElement("style");e.appendChild(document.createTextNode("")),document.head.appendChild(e)}function i(e,t){var n=document.styleSheets[0];"insertRule"in n?n.insertRule(e+"{"+t+"}",1):n.addRule(e,t)}function a(e,t,r,o){var i={html:r!==!1&&o!==!1};if("Number"===n(r)&&(i.speed=r),"Number"===n(o)&&(i.speed=o),"Object"===n(t)){var a=Object.keys(t)[0];t=document.querySelector(t[a])[i.html?"innerHTML":"textContent"].trim()}return i[e]=t,i}function c(){return b.item>=0||(b.item=0),b.item===b.length?document.body.removeEventListener("killTyper",b.kill):(b.ks||(b.ks=!0,document.body.addEventListener("killTyper",b.kill)),b.cursor||(b.cursor="cursor-soft"),void(b.type=setInterval(function(){var e=b[b.item];e.line?s(e):e["continue"]?l(e):e.pause?d(e):e.emit?v(e):e.listen?m(e):e.back?h(e):e.empty?f():e.run?p(e):e.end&&y(e)},0)))}function u(e){function n(n){var r=0;b.iterator=setInterval(function(){var e=s[r++];l.textContent=e,b.newDiv.innerHTML+=n?e:l.innerHTML,r===s.length&&a()},e.speed||t)}function r(){var n=i(l.childNodes,b.newDiv),r=0,o=0,c=n[r++];b.iterator=setInterval(function(){return c?void(c.content?(c.parent.innerHTML+=c.content[o++],o===c.content.length&&(o=0,c=n[r++])):(c.parent.appendChild(c.voidNode?c.voidNode:c.newNode),c=n[r++])):a()},e.speed||t)}function o(){var n=0;b.iterator=setInterval(function(){if(n===s.length)return clearInterval(b.iterator),b.item++,c();var e=s[n];"string"!=typeof s&&(l.textContent=e,e=l.innerHTML),b.newDiv.innerHTML+=e,n++},e.speed||t)}function i(e,t){var n=[];e=Array.from(e);for(var r=0;r<e.length;r++){var o=e[r],a=o.nodeName;if("#text"===a)n.push({parent:t,content:o.textContent});else if(o.childNodes.length){var c=document.createElement(a);u(o,c),n.push({parent:t,newNode:c}),n=[].concat(_toConsumableArray(n),_toConsumableArray(i(o.childNodes,c)))}else b.voids.includes(a.toLowerCase())&&n.push({parent:t,voidNode:o})}return n}function a(){return clearInterval(b.iterator),b.item++,c()}function u(e,t){Array.from(e.attributes).forEach(function(e){t.setAttribute(e.name,e.value)})}var s=e.line||e["continue"],l=document.createElement("div");return Array.isArray(s)?n(e.html):(l.innerHTML=s,void(e.html?r():o()))}function s(t){clearInterval(b.type),b.newDiv&&(["typer","cursor-block","cursor-soft","cursor-hard","no-cursor"].forEach(function(e){b.newDiv.classList.remove(e)}),b.newDiv.classList.add("white-space"),b.newDiv.innerHTML||(b.newDiv.innerHTML=" "));var n=document.createElement("div");return n.setAttribute("data-typer-child",b.dataNum),n.className=b.cursor,n.classList.add("typer"),n.classList.add("white-space"),e.appendChild(n),b.newDiv=n,1===t.line?(b.item++,c()):void u(t)}function l(e){clearInterval(b.type),u(e)}function d(e){clearInterval(b.type),b.pause=setTimeout(function(){b.item++,c()},e.pause)}function v(e){clearInterval(b.type),document.querySelector(e.el).dispatchEvent(new Event(e.emit)),b.item++,c()}function m(e){clearInterval(b.type);var t=document.querySelector(e.el);t.addEventListener(e.listen,function n(e){t.removeEventListener(e.type,n),b.killed||(b.item++,c())})}function h(e){function n(e){var t=[],r=Array.from(e.childNodes);return r.length?(r.forEach(function(e){e.childNodes.length?t=[].concat(_toConsumableArray(t),_toConsumableArray(n(e))):t.push(e)}),t):t}function r(e){Array.from(e.childNodes).forEach(function(e){b.voids.includes(e.nodeName.toLowerCase())||(e.childNodes.length&&r(e),"#text"===e.nodeName||e.innerHTML.length||e.remove())})}function o(){var e=0;return Array.from(b.newDiv.childNodes).forEach(function(t){b.voids.includes(t.nodeName.toLowerCase())&&e++,t.childNodes.length&&(e+=o(t.childNodes))}),e}if(clearInterval(b.type),!b.newDiv||!b.newDiv.textContent)return b.item++,c();if("empty"===e.back)return b.newDiv.innerHTML="",b.item++,c();if(e.back>b.newDiv.innerHTML.length&&(e.back="all"),"all"===e.back&&(e.back=b.newDiv.textContent.length+o()),e.back<0){var i=b.newDiv.textContent.length+o();e.back=i-e.back*-1}var a=0,u=n(b.newDiv).reverse();b.goBack=setInterval(function(){u[0].length||u.shift();var t=u[0],n=b.voids.includes(t.nodeName.toLowerCase());n?t.remove():t.textContent=t.textContent.slice(0,-1),a++,a===e.back&&(clearInterval(b.goBack),r(b.newDiv),b.item++,c())},e.speed||t)}function f(){b.newDiv="",e.innerHTML="",s({line:1})}function p(t){clearInterval(b.type),t.run(e),b.item++,c()}function y(){clearInterval(b.type),b.cb()}var b=[];if(b.voids=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],t=t||70,"String"!==n(e))throw"typer error: selector provided is not a string.";document.styleSheets.length||o(),e=document.querySelector(e),r();var k={cursor:function w(e){if(b.cursorRan)return console.log('You can only call ".cursor" once.'),this;if(b.cursorRan=!0,void 0===e&&(e=!0),e===!1)return b.cursor="no-cursor",this;var w=[],t='[data-typer="'+b.dataNum+'"]';return e.color&&i(t+" .typer::after","background-color:"+e.color),"hard"===e.blink?w.push("cursor-hard"):w.push("cursor-soft"),e.block===!0&&w.push("cursor-block"),b.cursor=w.join(" "),this},line:function(e,t,n){return e?b.push(a("line",e,t,n)):b.push({line:1}),b.typing||(b.typing=!0,c()),this},"continue":function(e,t,n){return e?(b.push(a("continue",e,t,n)),this):this},pause:function(e){return b.push({pause:e||500}),this},emit:function(e,t){return t||(t="body"),document.querySelector(t),b.push({emit:e,el:t}),this},listen:function(e,t){return t||(t="body"),document.querySelector(t),b.push({listen:e,el:t}),this},back:function(e,n){return 0===n&&n++,b.push({back:e,speed:n||t}),this},empty:function(){return b.push({empty:!0}),this},run:function(e){return b.push({run:e}),this},end:function(t,r){function o(){return console.log('WARNING: you tried to call a method after ".end" has already been called.'),i}b.push({end:!0}),b.cb=function(){["typer","cursor-block","cursor-soft","cursor-hard","no-cursor"].forEach(function(e){b.newDiv.classList.remove(e)}),b.newDiv.classList.add("white-space"),b.newDiv="",t&&t instanceof Function&&t(e),(t&&"Boolean"===n(t)||r)&&(r instanceof Function&&r(e),document.body.dispatchEvent(new Event("typerFinished")))};var i={cursor:o,line:o,"continue":o,pause:o,emit:o,listen:o,back:o,empty:o,run:o,end:o};return i}};return b.kill=function(e){if(document.body.removeEventListener(e.type,b.kill),b.killed=!0,clearInterval(b.iterator),clearInterval(b.goBack),clearTimeout(b.pause),b.item===b.length)return console.log("This typer has completed; removing listener.");var t=b[b.item];if(t&&t.listen){var n=document.querySelector(t.el);n.dispatchEvent(new Event(t.listen))}},k}