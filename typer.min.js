"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function typer(e,t){function n(e){var t={}.toString.call(e);return t.split(" ")[1].slice(0,-1)}function r(){b.dataNum=Math.floor(999999999*Math.random()+1),e.setAttribute("data-typer",b.dataNum)}function i(){var e=document.createElement("style");e.appendChild(document.createTextNode("")),document.head.appendChild(e)}function o(e,t){var n=document.styleSheets[0];"insertRule"in n?n.insertRule(e+"{"+t+"}",1):n.addRule(e,t)}function c(e,t,r,i){var o={html:r!==!1&&i!==!1};if("Number"===n(r)&&(o.speed=r),"Number"===n(i)&&(o.speed=i),"Object"===n(t)){var c=Object.keys(t)[0];t=document.querySelector(t[c])[o.html?"innerHTML":"textContent"].trim()}return o[e]=t,o}function a(){return b.item>=0||(b.item=0),b.item===b.length?document.body.removeEventListener("killTyper",b.kill):(b.ks||(b.ks=!0,document.body.addEventListener("killTyper",b.kill)),b.cursor||(b.cursor="cursor-soft"),void(b.type=setInterval(function(){var e=b[b.item];e.line?l(e):e["continue"]?s(e):e.pause?d(e):e.emit?v(e):e.listen?m(e):e.back?h(e):e.empty?f():e.run?p(e):e.end&&y(e)},0)))}function u(e){function n(n){var r=0;b.iterator=setInterval(function(){var e=l[r++];s.textContent=e,b.newDiv.innerHTML+=n?e:s.innerHTML,r===l.length&&c()},e.speed||t)}function r(){var n=o(s.childNodes,b.newDiv),r=0,i=0,a=n[r++];b.iterator=setInterval(function(){return a?void(a.content?(a.parent.innerHTML+=a.content[i++],i===a.content.length&&(i=0,a=n[r++])):(a.parent.appendChild(a.newNode),a=n[r++])):c()},e.speed||t)}function i(){var n=0;b.iterator=setInterval(function(){if(n===l.length)return clearInterval(b.iterator),b.item++,a();var e=l[n];"string"!=typeof l&&(s.textContent=e,e=s.innerHTML),b.newDiv.innerHTML+=e,n++},e.speed||t)}function o(e,t){var n=[];e=Array.from(e);for(var r=0;r<e.length;r++){var i=e[r],c=i.nodeName;if("#text"===c)n.push({parent:t,content:i.textContent});else if(i.childNodes.length){var a=document.createElement(c);u(i,a),n.push({parent:t,newNode:a}),n=[].concat(_toConsumableArray(n),_toConsumableArray(o(i.childNodes,a)))}}return n}function c(){return clearInterval(b.iterator),b.item++,a()}function u(e,t){Array.from(e.attributes).forEach(function(e){t.setAttribute(e.name,e.value)})}var l=e.line||e["continue"],s=document.createElement("div");return Array.isArray(l)?n(e.html):(s.innerHTML=l,void(e.html?r():i()))}function l(t){clearInterval(b.type),b.newDiv&&(["typer","cursor-block","cursor-soft","cursor-hard","no-cursor"].forEach(function(e){b.newDiv.classList.remove(e)}),b.newDiv.classList.add("white-space"),b.newDiv.innerHTML||(b.newDiv.innerHTML=" "));var n=document.createElement("div");return n.setAttribute("data-typer-child",b.dataNum),n.className=b.cursor,n.classList.add("typer"),n.classList.add("white-space"),e.appendChild(n),b.newDiv=n,1===t.line?(b.item++,a()):void u(t)}function s(e){clearInterval(b.type),u(e)}function d(e){clearInterval(b.type),b.pause=setTimeout(function(){b.item++,a()},e.pause)}function v(e){clearInterval(b.type),document.querySelector(e.el).dispatchEvent(new Event(e.emit)),b.item++,a()}function m(e){clearInterval(b.type);var t=document.querySelector(e.el);t.addEventListener(e.listen,function n(e){t.removeEventListener(e.type,n),b.killed||(b.item++,a())})}function h(e){function n(e){var t=[],r=Array.from(e.childNodes);return r.length?(r.forEach(function(e){e.childNodes.length?t=[].concat(_toConsumableArray(t),_toConsumableArray(n(e))):t.push(e)}),t):t}function r(e){Array.from(e.childNodes).forEach(function(e){e.childNodes.length&&r(e),"#text"===e.nodeName||e.innerHTML.length||e.remove()})}if(clearInterval(b.type),!b.newDiv||!b.newDiv.textContent)return b.item++,a();if("empty"===e.back)return b.newDiv.innerHTML="",b.item++,a();if(e.back>b.newDiv.innerHTML.length&&(e.back="all"),"all"===e.back&&(e.back=b.newDiv.textContent.length),e.back<0){var i=b.newDiv.textContent;e.back=i.slice(e.back).length}var o=0,c=n(b.newDiv).reverse();b.goBack=setInterval(function(){c[0].length||c.shift();var t=c[0];t.textContent=t.textContent.slice(0,-1),o++,o===e.back&&(clearInterval(b.goBack),r(b.newDiv),b.item++,a())},e.speed||t)}function f(){b.newDiv="",e.innerHTML="",l({line:1})}function p(t){clearInterval(b.type),t.run(e),b.item++,a()}function y(){clearInterval(b.type),b.cb()}var b=[];if(b.voids=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],t=t||70,"String"!==n(e))throw"typer error: selector provided is not a string.";document.styleSheets.length||i(),e=document.querySelector(e),r();var k={cursor:function g(e){if(b.cursorRan)return console.log('You can only call ".cursor" once.'),this;if(b.cursorRan=!0,void 0===e&&(e=!0),e===!1)return b.cursor="no-cursor",this;var g=[],t='[data-typer="'+b.dataNum+'"]';return e.color&&o(t+" .typer::after","background-color:"+e.color),"hard"===e.blink?g.push("cursor-hard"):g.push("cursor-soft"),e.block===!0&&g.push("cursor-block"),b.cursor=g.join(" "),this},line:function(e,t,n){return e?b.push(c("line",e,t,n)):b.push({line:1}),b.typing||(b.typing=!0,a()),this},"continue":function(e,t,n){return e?(b.push(c("continue",e,t,n)),this):this},pause:function(e){return b.push({pause:e||500}),this},emit:function(e,t){return t||(t="body"),document.querySelector(t),b.push({emit:e,el:t}),this},listen:function(e,t){return t||(t="body"),document.querySelector(t),b.push({listen:e,el:t}),this},back:function(e,n){return 0===n&&n++,b.push({back:e,speed:n||t}),this},empty:function(){return b.push({empty:!0}),this},run:function(e){return b.push({run:e}),this},end:function(t,r){function i(){return console.log('WARNING: you tried to call a method after ".end" has already been called.'),o}b.push({end:!0}),b.cb=function(){["typer","cursor-block","cursor-soft","cursor-hard","no-cursor"].forEach(function(e){b.newDiv.classList.remove(e)}),b.newDiv.classList.add("white-space"),b.newDiv="",t&&t instanceof Function&&t(e),(t&&"Boolean"===n(t)||r)&&(r instanceof Function&&r(e),document.body.dispatchEvent(new Event("typerFinished")))};var o={cursor:i,line:i,"continue":i,pause:i,emit:i,listen:i,back:i,empty:i,run:i,end:i};return o}};return b.kill=function(e){if(document.body.removeEventListener(e.type,b.kill),b.killed=!0,clearInterval(b.iterator),clearInterval(b.goBack),clearTimeout(b.pause),b.item===b.length)return console.log("This typer has completed; removing listener.");var t=b[b.item];if(t&&t.listen){var n=document.querySelector(t.el);n.dispatchEvent(new Event(t.listen))}},k}